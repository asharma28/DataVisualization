<!DOCTYPE html>
<meta charset="utf-8">
<style>

.bar {
  fill: steelblue;
}

.bar:hover {
  fill: brown;
}

.axis--x path {
  display: none;
}
.toolTip {
  position: absolute;
  display: none;
  min-width: 80px;
  height: auto;
  background: none repeat scroll 0 0 #ffffff;
  border: 1px solid #6F257F;
  padding: 14px;
  text-align: center;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

/* Style the buttons that are used to open the tab content */
.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
}
.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.active {
  background-color: #4CAF50;
  color: white;
}

.topnav .icon {
  display: none;
}

@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
  

</style>
<!-- <a href="DataGraph.html">Back</a> -->
<div class="topnav" id="myTopnav">
  <a href="About.html" class="active" >About</a>
  <a href="FirstChart.html" >First Graph</a>
  <a href="SecondChart.html">Second Graph</a>
  <a href="#home">Third Graph</a>
 </div>
 <h3>Soccer graph</h3>
 <div>
 <strong>Data points: </strong>
 <p>In the first bar chart I have shown total number of goals scored each decade.Last decade count is little less because there are still lot of matches to be played and also 2018 being the FIFA world cup</p>
 </div>
<svg  width="960" height="460"></svg>
<body>
	<div class="legend3" >
	
</div>

</body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="legends.js"></script>
<script src="JavaScript/jquery-1.10.2.js" type="text/javascript"></script> 

<script type="text/javascript">
    $(function() {
        // this will get the full URL at the address bar
        var url = window.location.href;

        // passes on every "a" tag
        $(".topnav a").each(function() {
            // checks if its the same on the address bar
            if (url == (this.href)) {
                $(this).closest("a").addClass("active");
                //for making parent of submenu active
               $(this).closest("a").parent().parent().addClass("active");
            }
        });
    });        
</script>
<script>

	
var tooltip = d3.select("body").append("div").attr("class", "toolTip");


var svg = d3.select("svg"),
    margin = {top: 20, right: 20, bottom: 60, left: 70},
    width = +svg.attr("width") - margin.left - margin.right,
   // height = +svg.attr("height") - margin.top - margin.bottom;

//var margin = {top: 20, right: 20, bottom: 50, left: 70},
//width = 960 - margin.left - margin.right,
height = 500 - margin.top - margin.bottom;


var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),
    y = d3.scaleLinear().rangeRound([height, 0]);


svg.append("text")
.style("text-anchor", "middle")
.attr("transform", "translate(" + (width / 2) + " ," + (height + margin.bottom) + ")")
        .style("text-anchor", "middle")
.text("Year");


//Add the text label for the Y axis
svg.append("text")
.attr("transform", "rotate(-90)")
.attr("y", 0 - margin.left)
.attr("x",0 - (height / 2))
.attr("dy", "0.3em")
.style("text-anchor", "middle")
.text("Goals");      



var g = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


    
d3.tsv("goalsyear.tsv", function(d) {
  d.goals = +d.goals;
  return d;
}, function(error, data) {
  if (error) throw error;

  x.domain(data.map(function(d) { return d.year; }));
  y.domain([0, d3.max(data, function(d) { return d.goals; })]);

  //Add x axis
  g.append("g")
      .attr("class", "axis axis--x")
      .attr("transform", "translate(0," + height + ")")
      .attr("text", "Date")
      .call(d3.axisBottom(x));

  g.append("g")
      .attr("class", "axis axis--y")
      .call(d3.axisLeft(y))
    .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", "0.71em")
      .attr("text-anchor", "end");

  g.selectAll(".bar")
    .data(data)
    .enter().append("rect")
      .attr("class", "bar")
      .attr("x", function(d) { return x(d.year); })
      .attr("y", function(d) { return y(d.goals); })
      .attr("width", x.bandwidth())
      .attr("height", function(d) { return height - y(d.goals); })
      .on("mousemove", function(d){
            tooltip
              .style("left", d3.event.pageX - 50 + "px")
              .style("top", d3.event.pageY - 70 + "px")
              .style("display", "inline-block")
              .html("Decade"+(d.year) + "<br>" + "Goals # " + (d.goals));
        })
    		.on("mouseout", function(d){ tooltip.style("display", "none");});
 
});








</script>





